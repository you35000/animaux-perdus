{% extends 'base.html.twig' %}

{% block title %}Admin : Utilisateurs{% endblock %}

{% block body %}
    <div class="col-3 offset-3">
        <h2>Gestion des Utilisateurs</h2>
        <form action="{{ path('app_utilisateurs') }}" method="post">
            <div class="row">
                <div class="col-3 offset-1 ">
                    <div class="form-floating">
                        <input type="text" name="search" id="search" placeholder="Recherche un utilisateur"
                               class="form-control">
                        <label for="search">Rechercher un utilisateur</label>
                    </div>
                </div>
                <div class="col-4 offset-1">
                    <button type="submit" class="btn btn-primary my-auto">Rechercher</button>
                </div>
            </div>
        </form>

    </div>
        <div class="col-9 my-5">
            <table class="text-center table table-hover table-light table-striped align-middle">
                <thead class="table-dark">
            <tr>
                <th>Pseudo</th>
                <th>Nom</th>
                <th>Prenom</th>
                <th>Telephone</th>
                <th>Email</th>
                <th>Roles</th>
                <th>Photo</th>
                <th>Actif</th>
                <th>actions</th>
            </tr>
            </thead>
            <tbody>
            {% for u in users %}
                <tr>
                    <th><input type="text" id="userPseudo{{ u.id }}" readonly class="form-control-plaintext"
                               value="{{ u.pseudo }}">
                    </th>
                    <th><input type="text" id="userNom{{ u.id }}" readonly class="form-control-plaintext"
                               value="{{ u.nom }}">
                    </th>
                    <th><input type="text" id="userPrenom{{ u.id }}" readonly class="form-control-plaintext"
                               value="{{ u.prenom }}">
                    </th>
                    <th><input type="text" id="userPrenom{{ u.id }}" readonly class="form-control-plaintext"
                               value="{{ u.telephone }}">
                    </th>
                    <th><input type="text" id="userPrenom{{ u.id }}" readonly class="form-control-plaintext"
                               value="{{ u.email }}">
                    </th>
                    <th><input type="text" id="userPrenom{{ u.id }}" readonly class="form-control-plaintext"
                               value="{{ u.roles ? u.roles|json_encode : '' }}">
                    </th>
                    <th><input type="text" id="userPrenom{{ u.id }}" readonly class="form-control-plaintext"
                               value="{{ u.photo }}">
                    </th>
                    <th><input type="text" id="userPrenom{{ u.id }}" readonly class="form-control-plaintext"
                               value="{{ u.isActive }}">
                    </th>
                    <th>
                        <button id="update{{ u.id }}" class="btn btn-secondary update"
                                data-bs-toggle="tooltip" data-bs-placement="top" title="Modifier">
                            <i class="fa fa-pencil"></i>
                        </button>
                        <button class="btn btn-danger"
                                data-bs-toggle="tooltip" data-bs-placement="top" title="Supprimer">
                            <i class="fa fa-trash-can"></i>
                        </button>
                    </th>
                </tr>
            {% endfor %}
            </tbody>
        </table>
{#            {{ knp_pagination_render(users) }}#}
        </div>


{% endblock %}

{% block javascript%}
<script src="{{ asset('js/utilisateur.js') }}" type="text/javascript"></script>
{% endblock %}

{#<tr>#}
{#                <td>#}
{#                    <a href="{{ path('user_show', {'id': user.id}) }}">show</a>#}
{#                    <a href="{{ path('user_edit', {'id': user.id}) }}">edit</a>#}
{#                </td>#}
{#</tr>#}


{#    <a href="{{ path('user_new') }}">Create new</a>#}

